## 11. 함수



### 1. 함수

- 정의 : 일련의 과정을 문들로 구현하고 코드 블록으로 감싸서 하나의 실행 단위로 정의한 것
- 용어정리 : 
  1. 매개변수 : 입력을 전달받는 변수
  2. 인수 : 입력
  3. 반환값 : 출력
  4. 함수호출 : 인수를 매개변수를 통해 함수에게 전달하면서 함수의 실행을 지시
- 특징 :  
  1. 특정 함수를 구별하기 위해 식벼자인 함수 이름을 사용할 수 있다.
  2. 일급 객체임
- 생성방법 : 함수 정의를 통해 생성
- 사용이유 :  유지보수의 편의성을 높이고 실수를 줄여 코드의 신뢰성을 높이는 효과가 있다.



### 2. 함수 리터럴

- 구성 :  function 키워드, 함수 이름, 매개변수 목록, 함수몸체

- 용어 설명 : 

  1. 함수 이름 : 

     1. 함수 이름 = 식별자이고 네이밍 규칙 준수해야함
     2. 함수 이름은 함수 몸체 내에서만 참조할 수 있는 식별자임
     3. 함수 이름은 생략가능
        - 기명 함수 : 함수 이름있는 함수
        - 익명 함수 : 함수 이름없는 함수

  2. 매개변수 목록 : 

     1. 0개 이상의 매개변수를 괄호로 감싸고 쉼표로 구분

     2. 매개변수에는 인수가 할당됨

     3. 매개변수는 함수 몸체 내에서 변수와 동일하게 취급된다. 

        따라서 매개변수도 네이밍 규칙 준수해야함

  3. 함수 몸체 : 

     1. 함수가 호출됬을 때 실행될 문들을 하나의 실행 단위로 정의한 코드 블록
     2. 함수 호출에 의해 실행됨



### 3. 함수 정의방법 

1. 함수 선언문
2. 함수 표현식
3. Function 생성자 함수
4. 화살표 함수 (ES6)



#### 3-1. 함수 선언문

```javascript
// 함수 선언문
function add(x, y) {
	return x + y;
}

// 함수 참조
// console.dir은 console.log와는 달리 함수 객체의 프로퍼티까지 출력한다.
// 단, Node.js 환경에서는 console.log와 같은 결과가 출력된다.
console.dir(add); // f add(x, y)

// 함수 호출
console.log(add(2, 5)); // 7
```

특징 :

1. 문으로 해석
2. 자바스크립트 엔진은 함수 이름과 동일한 이름의 식별자를 암묵적으로 선언하고 생성된 함수 객체를 할당한다.
3. 함수는 함수 이름으로 호출하는 것이 아니라 함수 객체를 가리키는 변수로 호출한다.



#### 3-2. 함수 표현식

```javascript
var add = function (x, y) {
	return x + y;
};

console.log(add(2, 5)); //7
```

- 특징 :

  1. 함수 리터럴의 함수 이름은 생략가능

  - 익명함수 : 함수이름이 생략된 함수
  - 기명함수 : 함수이름이 있는 함수



#### 3-3. 함수 선언문과 함수표현식의 차이

|                  | 함수 선언문                                                  | 함수 표현식                                           |
| ---------------- | ------------------------------------------------------------ | ----------------------------------------------------- |
| 함수의 생성 시점 | 실행단계 이전에 함수 호이스팅이 되어변수의 선언과 초기화 그리고 객체의 할당까지 이루어짐 | 실행단계 이전에 변수의 선언과 초기화단계까지 이루어짐 |



#### 3-4. Function 생성자 함수

- 함수 생성방법 : 매개변수 목록과 함수 몸체를 문자열로 전달받는다. 

  ​						   new 연산자와 함께 호출하며 생성된 함수 객체를 반환한다. 

Tip : new 연산자 없이 호출하여도 결과는 동일

- 용어 정리 : 
  1. 생성자 함수 : 객체를 생성하는 함수를 말함

```javascript
var add = new Function('x', 'y', 'return x + y');

console.log(add(2 , 5)); // 7
```

- 특징 : 
  1. 함수 선언문이나 함수 표현식으로 생성한 함수와 다르게 동작함
  2. 클로저를 생성하지 않음



#### 3-5. 화살표 함수

```javascript
// 화살표 함수
const add = (x, y) => x + y;

console.log(add(2 , 5)); // 7
```

- 특징 : 
  1. 기존의 함수와 this 바인딩 방식 다름
  2. prototype 프로퍼티 없음
  3. arguments 객체 생성 안함

### 4. 함수 호출

- 호출 방법 : 함수를 참조하는 변수와 한 쌍의 소괄호인 함수 호출 연산자로 호출



### 5. 매개변수와 인수

- 함수 실행과정
  1. 함수 외부에서 함수 내부로 값을 전달할 필요가 있는 경우 매개변수를 통해 인수를 전달
  2. 인수의 개수와 타입에 제한이 없다.
- 매개변수 
  1. 특징 : 
     1. 함수 몸체 내부에서만 참조할 수 있고 몸체 외부에서는 참조할 수 없다.
     2. 매개변수의 스코프(유효 범위)는 함수 내부이다.
  2. 매개변수의 개수
     1. 갯수가 많으면 : 무시됨 (암묵적으로 argumnets 객체의 프로퍼티로 보관)
     2. 갯수가 적으면 : 부족한 매개변수의 값은 undefined가 됨
     3. Tip : 갯수가 최대 3개 이상 넘지 않는것을 권장



### 6. 함수형 프로그래밍

- 정의 : 변수의 사용을 억제하여 상태 변경을 피하고 순수 함수와 보조 함수의 조합을 통해 로직내에 존재하는 조건문과 반복문을 제거하여 복잡성을 해결하려는 프로그래밍 패러다임.
- 용어 정리 :
  1. 순수 함수 : 부수 효과가 없는 함수
  2. 비순수 함수 : 외부 상태를 변경시키는 , 부수 효과가 있는 함수



#### 7. 반환문

- 역할 : 
  1. 함수의 실행을 중단하고 함수 몸체를 빠져나간다.
  2. return 키워드 뒤에 지정한 값을 반환한다. (return 키워드 뒤에 반환값을 명시적으로 지정하지 않으면 undefined가 반환)
- 특징 : 
  1. 반환문 생략가능 -> 암묵적으로 undefined를 반환



#### 8. 다양한 함수의 형태

- 종류 : 

  1. 즉시실행함수 

     - 특징1. 한번만 호출되며 다시 호출할 수 없다.

     - 특징2. 함수 이름이 없는 익명 즉시 실행 함수를 사용하는것이 일반적

     - 특징3. 즉시 실행 함수 내에 코드를 모아두면 변수나 함수 일므이 충돌하는것을 방지

       ​            가능

     

  2. 재귀함수

     - 특징1. 자신을 무한이 연쇄 호출하므로 탈출 조건을 반드시 만들어야됨.

     

  3. 중첩함수(내부함수)

     - 정의 : 함수 내부에 정의된 함수

     - 특징 : 중첩 함수 inner는 자신을 포함하고 있는 외부 함수 outer의 변수에 접근할 수 

       ​			있음.

       ​			외부 함수는 중첩 함수의 변수에 접근할 수 없다.

     

  4. 콜백 함수

     - 정의 : 다른 함수로 전달되는 함수
     - 특징 : 
       1. 콜백 함수를 인수로 전달 받은 함수가 호출 시점을 결정하여 호출
       2. 콜백 함수가 콜백 함수를 전달 받는 함수 내부에만 호출된다면 콜백 함수를 익명 함수 리터럴로 정의하면서 인수로 곧바로 전달하는게 일반적



## 12. 스코프

### 1. 비순수 함수란

- 정의 : 함수 내부의 상태만이 아니라 함수 외부 상태까지 변경하는 함수

  

### 2. 식별자의 유효범위

- 자신이 선언된 위치에 의해 다른 코드가 식별자 자신을 참조할 수 있는 유효 범위결정



### 3. 스코프

- 정의 : 

  1. 식별자가 유효한 범위 
  2. 자바스크립트 엔진이 식별자를 검색할때 규칙

  

### 4. 변수의 중복선언

- var 키워드의 특징

  var 키워드로 선언된 변수는 같은 스코프 내에서 중복 선언이 허용

  의도치 않게 변수값이 변경되는 부작용을 발생시킴

- let const 키워드의 특징

  같은 스코프 내에서 중복 선언을 허용하지 않음



### 5. 스코프의 종류

| 구분 | 설명                  | 스코프      | 변수      |
| ---- | --------------------- | ----------- | --------- |
| 전역 | 코드의 가장 바깥 영역 | 전역 스코프 | 전역 변수 |
| 지역 | 함수 몸체 내부        | 지역 스코프 | 지역 변수 |



#### 6. 전역과 전역 스코프

- 용어 설명 :
  1. 전역 : 코드의 가장 바깥 영역을 말함
- 특징 :
  1. 전역에 변수를 선언하면 전역 스코프를 갖는 전역 변수가 됨
  2. 전역 변수는 어디서든지 참조할 수 있음



### 7. 지역과 지역 스코프

- 용어 설명 :
  1. 지역 : 함수 몸체 내부
- 특징 : 
  1. 지역에 변수를 선언하면 지역스코프를 갖는 지역 변수가 됨
  2. 지역 변수는 자신이 선언된 지역과 하위 지역에서만 참조할 수 있음



### 8. 스코프 체인

- 정의 : 스코프가 계층적으로 연결된 것

- 용어 설명 : 

  1. 함수의 중첩 : 함수 몸체 내부에서 함수가 정의된 것을 함수의 중첩
  2. 중첩 함수 : 함수 몸체 내부에서 정의한 함수
  3. 외부 함수 : 중첩 함수를 포함하는 함수

  

- 개념 : 

  1. 외부 함수의 지역 스코프 = 중첩 함수의 상위 스코프
  2. 상위 스코프에서 유효한 변수는 하위 스코프에서 자유롭게 참조할 수 있지만 하위 스코프에서 유효한 변수를 상위 스코프에서 참조할 수 없음

- 특징 : 변수를 참조할 때, 자바스크립트 엔진은 스코프 체인을 통해 변수를 참조하는 코드의 스코프에서 시작하여 상위 스코프 방향으로 이동하며 선언된 변수를 검색한다. 



### 9. 함수 레벨 스코프, 블록 레벨 스코프

- 정의 : 

  1. 함수 레벨 스코프 :  var 키워드로 선언된 변수는 오로지 함수의 코드 블록만을 지역 스코프로 인정

  2. 블록 레벨 스코프 : 함수 몸체 만이 아니라 모든 코드 블록이 지역 스코프를 만듬

     

### 10. 상위스코프를 결정하는 방법 2가지

1. 함수를 어디서 호출했는지에 따라 함수의 상위 스코프를 결정
2. 함수를 어디서 정의했는지에 따라 함수의 상위 스코프를 결정



### 11. 동적 스코프와 렉시컬 스코프

1. 동적 스코프

   1. 특징 : 어디서 호출될 지 함수 정의 시점에는 알 수 없음
   2. 정의 : 함수가 호출되는 시점에 동적으로 스코프가 결정되는 스코프

2. 렉시컬 스코프, 정적 스코프

   1. 특징 : 함수 정의가 평가되는 시점에 상위 스코프가 정적으로 결정

      ```
      	  자바스크립트를 비롯한 대부분의 프로그래밍 언어는 레시컬 스코프를 따름
      ```



### 12. 암묵적 전역변수 

- 암묵적 전역변수가 되는때 : 선언하지 않은 변수에 값을 할당하면 자바스크립트 엔진은 아무런 에러 없이 암묵적으로 전역 변수를 선언하고 값을 할당
- 용어정리 : 
  1. 모듈 : 
     1. 정의 : 애플리케이션을 구성하는 개별적 요소로서 재사용 가능한 코드 조각을 말함.
     2. 특징 : 세부 사항을 캡슐화하고 공개가 필요한 API만을 외부에 노출함